# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

"""CompetitorMetrics"""
type CompetitorMetrics {
  competitor_name: String
  gross_amount: Int
  net_amount: Int
}

"""
The javascript `Date` as string. Type represents date and time as the ISO Date string.
"""
scalar DateTime

"""GetHotelInsightsResponseType"""
type GetHotelInsightsResponseType {
  last_updated_at: DateTime!
  prices: [PriceType!]!
  room_id: String!
  room_name: String!
}

"""GetHotelMetricsResponseType"""
type GetHotelMetricsResponseType {
  date: DateTime!
  metrics: HotelMetrics
  room_id: String!
  room_name: String!
}

"""HotelMetrics"""
type HotelMetrics {
  average_price: CompetitorMetrics
  best_price: CompetitorMetrics
  worst_price: CompetitorMetrics
}

type LoginResponse {
  accessToken: String!
}

type Mutation {
  Login(email: String!, password: String!): LoginResponse!
  createUser(email: String!, name: String!, password: String!, role: RolesType!): Boolean!
}

"""Period 30,60, 90 days"""
enum PeriodType {
  P30
  P60
  P90
}

"""PingResponseType"""
type PingResponseType {
  db: Boolean!
  external_api: Boolean!
  local_api: Boolean!
}

"""PriceType"""
type PriceType {
  amount: Int!
  competitor_name: String!
  currency: String!
  date: DateTime!
  id: String!
  last_update: DateTime!
  room_id: String!
  taxes: String!
}

type Query {
  """Get Hotel insights"""
  getHotelInsights(hotel_id: Int!, limit: Int!, period: PeriodType!): [GetHotelInsightsResponseType!]

  """Get Hotel insights"""
  getHotelMetrics(
    """format YYYY-MM-DD"""
    day: DateTime!
    hotel_id: Int!
    room_type: RoomType!
  ): [GetHotelMetricsResponseType!]
  ping: PingResponseType!
}

"""Roles types allow are USER, ADMIN"""
enum RolesType {
  admin
  user
}

"""business, residential """
enum RoomType {
  business
  residential
}
